/*
 imagesLoaded PACKAGED v4.1.3
 JavaScript is all like "You images are done yet or what?"
 MIT License
*/
!function(d,c){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",c):"object"==typeof module&&module.exports?module.exports=c():d.EvEmitter=c()}("undefined"!=typeof window?window:this,function(){function d(){}var c=d.prototype;return c.on=function(h,c){if(h&&c){var a=this._events=this._events||{};a=a[h]=a[h]||[];return-1==a.indexOf(c)&&a.push(c),this}},c.once=function(c,d){if(c&&d){this.on(c,d);var a=this._onceEvents=this._onceEvents||{};return(a[c]=a[c]||{})[d]=!0,this}},c.off=
function(c,d){var a=this._events&&this._events[c];if(a&&a.length){var f=a.indexOf(d);return-1!=f&&a.splice(f,1),this}},c.emitEvent=function(c,d){var a=this._events&&this._events[c];if(a&&a.length){var f=0,g=a[f];d=d||[];for(var k=this._onceEvents&&this._onceEvents[c];g;){var h=k&&k[g];h&&(this.off(c,g),delete k[g]);g.apply(this,d);f+=h?0:1;g=a[f]}return this}},c.allOff=c.removeAllListeners=function(){delete this._events;delete this._onceEvents},d});
(function(d,c){"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(h){return c(d,h)}):"object"==typeof module&&module.exports?module.exports=c(d,require("ev-emitter")):d.imagesLoaded=c(d,d.EvEmitter)})("undefined"!=typeof window?window:this,function(d,c){function h(b,e){for(var a in e)b[a]=e[a];return b}function m(b){var e=[];if(Array.isArray(b))e=b;else if("number"==typeof b.length)for(var a=0;a<b.length;a++)e.push(b[a]);else e.push(b);return e}function a(b,e,c){return this instanceof
a?("string"==typeof b&&(b=document.querySelectorAll(b)),this.elements=m(b),this.options=h({},this.options),"function"==typeof e?c=e:h(this.options,e),c&&this.on("always",c),this.getImages(),k&&(this.jqDeferred=new k.Deferred),void setTimeout(function(){this.check()}.bind(this))):new a(b,e,c)}function f(b){this.img=b}function g(b,e){this.url=b;this.element=e;this.img=new Image}var k=d.jQuery,l=d.console;a.prototype=Object.create(c.prototype);a.prototype.options={};a.prototype.getImages=function(){this.images=
[];this.elements.forEach(this.addElementImages,this)};a.prototype.addElementImages=function(b){"IMG"==b.nodeName&&this.addImage(b);!0===this.options.background&&this.addElementBackgroundImages(b);var e=b.nodeType;if(e&&n[e]){var a=b.querySelectorAll("img");for(e=0;e<a.length;e++)this.addImage(a[e]);if("string"==typeof this.options.background)for(b=b.querySelectorAll(this.options.background),e=0;e<b.length;e++)this.addElementBackgroundImages(b[e])}};var n={1:!0,9:!0,11:!0};return a.prototype.addElementBackgroundImages=
function(b){var a=getComputedStyle(b);if(a)for(var c=/url\((['"])?(.*?)\1\)/gi,d=c.exec(a.backgroundImage);null!==d;)(d=d&&d[2])&&this.addBackground(d,b),d=c.exec(a.backgroundImage)},a.prototype.addImage=function(b){b=new f(b);this.images.push(b)},a.prototype.addBackground=function(b,a){var c=new g(b,a);this.images.push(c)},a.prototype.check=function(){function b(b,c,e){setTimeout(function(){a.progress(b,c,e)})}var a=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(a){a.once("progress",
b);a.check()}):void this.complete()},a.prototype.progress=function(b,a,c){this.progressedCount++;this.hasAnyBroken=this.hasAnyBroken||!b.isLoaded;this.emitEvent("progress",[this,b,a]);this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,b);this.progressedCount==this.images.length&&this.complete();this.options.debug&&l&&l.log("progress: "+c,b,a)},a.prototype.complete=function(){var b=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(b,[this]),this.emitEvent("always",
[this]),this.jqDeferred)this.jqDeferred[this.hasAnyBroken?"reject":"resolve"](this)},f.prototype=Object.create(c.prototype),f.prototype.check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},f.prototype.getIsImageComplete=
function(){return this.img.complete&&void 0!==this.img.naturalWidth},f.prototype.confirm=function(b,a){this.isLoaded=b;this.emitEvent("progress",[this,this.img,a])},f.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},f.prototype.onload=function(){this.confirm(!0,"onload");this.unbindEvents()},f.prototype.onerror=function(){this.confirm(!1,"onerror");this.unbindEvents()},f.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this);this.proxyImage.removeEventListener("error",
this);this.img.removeEventListener("load",this);this.img.removeEventListener("error",this)},g.prototype=Object.create(f.prototype),g.prototype.check=function(){this.img.addEventListener("load",this);this.img.addEventListener("error",this);this.img.src=this.url;this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},g.prototype.unbindEvents=function(){this.img.removeEventListener("load",this);this.img.removeEventListener("error",this)},g.prototype.confirm=
function(a,c){this.isLoaded=a;this.emitEvent("progress",[this,this.element,c])},a.makeJQueryPlugin=function(b){(b=b||d.jQuery)&&(k=b,k.fn.imagesLoaded=function(b,c){return(new a(this,b,c)).jqDeferred.promise(k(this))})},a.makeJQueryPlugin(),a});