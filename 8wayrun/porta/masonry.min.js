/*
 Masonry PACKAGED v4.2.0
 Cascading grid layout library
 http://masonry.desandro.com
 MIT License
 by David DeSandro
*/
!function(d,b){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(l){return b(d,l)}):"object"==typeof module&&module.exports?module.exports=b(d,require("jquery")):d.jQueryBridget=b(d,d.jQuery)}(window,function(d,b){function l(c,l,n){function f(a,k,h){var e,f="$()."+c+'("'+k+'")';return a.each(function(a,u){var q=n.data(u,c);if(!q)return void p(c+" not initialized. Cannot call methods, i.e. "+f);var g=q[k];if(!g||"_"==k.charAt(0))return void p(f+" is not a valid method");
q=g.apply(q,h);e=void 0===e?q:e}),void 0!==e?e:a}function k(a,k){a.each(function(h,a){var e=n.data(a,c);e?(e.option(k),e._init()):(e=new l(a,k),n.data(a,c,e))})}(n=n||b||d.jQuery)&&(l.prototype.option||(l.prototype.option=function(a){n.isPlainObject(a)&&(this.options=n.extend(!0,this.options,a))}),n.fn[c]=function(e){if("string"==typeof e){var c=a.call(arguments,1);return f(this,e,c)}return k(this,e),this},g(n))}function g(a){!a||a&&a.bridget||(a.bridget=l)}var a=Array.prototype.slice,c=d.console,
p="undefined"==typeof c?function(){}:function(a){c.error(a)};return g(b||d.jQuery),l});
(function(d,b){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",b):"object"==typeof module&&module.exports?module.exports=b():d.EvEmitter=b()})("undefined"!=typeof window?window:this,function(){function d(){}var b=d.prototype;return b.on=function(d,g){if(d&&g){var a=this._events=this._events||{};a=a[d]=a[d]||[];return-1==a.indexOf(g)&&a.push(g),this}},b.once=function(d,g){if(d&&g){this.on(d,g);var a=this._onceEvents=this._onceEvents||{};return(a[d]=a[d]||{})[g]=!0,this}},b.off=
function(d,g){var a=this._events&&this._events[d];if(a&&a.length){var c=a.indexOf(g);return-1!=c&&a.splice(c,1),this}},b.emitEvent=function(d,g){var a=this._events&&this._events[d];if(a&&a.length){var c=0,p=a[c];g=g||[];for(var f=this._onceEvents&&this._onceEvents[d];p;){var b=f&&f[p];b&&(this.off(d,p),delete f[p]);p.apply(this,g);c+=b?0:1;p=a[c]}return this}},d});
(function(d,b){"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return b()}):"object"==typeof module&&module.exports?module.exports=b():d.getSize=b()})(window,function(){function d(a){var c=parseFloat(a);return-1==a.indexOf("%")&&!isNaN(c)&&c}function b(){}function l(a){a=getComputedStyle(a);return a||c("Style returned "+a+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),a}function g(c){if(!m){m=!0;var b=document.createElement("div");
b.style.width="200px";b.style.padding="1px 2px 3px 4px";b.style.borderStyle="solid";b.style.borderWidth="1px 2px 3px 4px";b.style.boxSizing="border-box";var k=document.body||document.documentElement;k.appendChild(b);var e=l(b);g.isBoxSizeOuter=a=200==d(e.width);k.removeChild(b)}if("string"==typeof c&&(c=document.querySelector(c)),c&&"object"==typeof c&&c.nodeType){k=l(c);if("none"==k.display){b={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(k=0;f>k;k++)b[p[k]]=0;return b}b=
{};b.width=c.offsetWidth;b.height=c.offsetHeight;c=b.isBorderBox="border-box"==k.boxSizing;for(e=0;f>e;e++){var r=p[e],h=parseFloat(k[r]);b[r]=isNaN(h)?0:h}e=b.paddingLeft+b.paddingRight;r=b.paddingTop+b.paddingBottom;h=b.marginLeft+b.marginRight;var u=b.marginTop+b.marginBottom,q=b.borderLeftWidth+b.borderRightWidth,v=b.borderTopWidth+b.borderBottomWidth;c=c&&a;var n=d(k.width);!1!==n&&(b.width=n+(c?0:e+q));k=d(k.height);return!1!==k&&(b.height=k+(c?0:r+v)),b.innerWidth=b.width-(e+q),b.innerHeight=
b.height-(r+v),b.outerWidth=b.width+h,b.outerHeight=b.height+u,b}}var a,c="undefined"==typeof console?b:function(a){console.error(a)},p="paddingLeft paddingRight paddingTop paddingBottom marginLeft marginRight marginTop marginBottom borderLeftWidth borderRightWidth borderTopWidth borderBottomWidth".split(" "),f=p.length,m=!1;return g});
(function(d,b){"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",b):"object"==typeof module&&module.exports?module.exports=b():d.matchesSelector=b()})(window,function(){var d=function(){var b=window.Element.prototype;if(b.matches)return"matches";if(b.matchesSelector)return"matchesSelector";for(var d=["webkit","moz","ms","o"],g=0;g<d.length;g++){var a=d[g]+"MatchesSelector";if(b[a])return a}}();return function(b,l){return b[d](l)}});
(function(d,b){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(l){return b(d,l)}):"object"==typeof module&&module.exports?module.exports=b(d,require("desandro-matches-selector")):d.fizzyUIUtils=b(d,d.matchesSelector)})(window,function(d,b){var l={extend:function(a,c){for(var b in c)a[b]=c[b];return a},modulo:function(a,c){return(a%c+c)%c},makeArray:function(a){var c=[];if(Array.isArray(a))c=a;else if(a&&"object"==typeof a&&
"number"==typeof a.length)for(var b=0;b<a.length;b++)c.push(a[b]);else c.push(a);return c},removeFrom:function(a,c){var b=a.indexOf(c);-1!=b&&a.splice(b,1)},getParent:function(a,c){for(;a!=document.body;)if(a=a.parentNode,b(a,c))return a},getQueryElement:function(a){return"string"==typeof a?document.querySelector(a):a},handleEvent:function(a){var c="on"+a.type;this[c]&&this[c](a)},filterFindElements:function(a,c){a=l.makeArray(a);var d=[];return a.forEach(function(a){if(a instanceof HTMLElement){if(!c)return void d.push(a);
b(a,c)&&d.push(a);a=a.querySelectorAll(c);for(var f=0;f<a.length;f++)d.push(a[f])}}),d},debounceMethod:function(a,c,b){var d=a.prototype[c],g=c+"Timeout";a.prototype[c]=function(){var a=this[g];a&&clearTimeout(a);var c=arguments,k=this;this[g]=setTimeout(function(){d.apply(k,c);delete k[g]},b||100)}},docReady:function(a){var c=document.readyState;"complete"==c||"interactive"==c?setTimeout(a):document.addEventListener("DOMContentLoaded",a)},toDashed:function(a){return a.replace(/(.)([A-Z])/g,function(a,
b,d){return b+"-"+d}).toLowerCase()}},g=d.console;return l.htmlInit=function(a,c){l.docReady(function(){var b=l.toDashed(c),f="data-"+b,m=document.querySelectorAll("["+f+"]");b=document.querySelectorAll(".js-"+b);m=l.makeArray(m).concat(l.makeArray(b));var n=f+"-options",t=d.jQuery;m.forEach(function(k){var e=k.getAttribute(f)||k.getAttribute(n);try{var b=e&&JSON.parse(e)}catch(h){return void(g&&g.error("Error parsing "+f+" on "+k.className+": "+h))}b=new a(k,b);t&&t.data(k,c,b)})})},l});
(function(d,b){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],b):"object"==typeof module&&module.exports?module.exports=b(require("ev-emitter"),require("get-size")):(d.Outlayer={},d.Outlayer.Item=b(d.EvEmitter,d.getSize))})(window,function(d,b){function l(a,e){a&&(this.element=a,this.layout=e,this.position={x:0,y:0},this._create())}var g=document.documentElement.style,a="string"==typeof g.transition?"transition":"WebkitTransition";g="string"==
typeof g.transform?"transform":"WebkitTransform";var c={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[a],p={transform:g,transition:a,transitionDuration:a+"Duration",transitionProperty:a+"Property",transitionDelay:a+"Delay"},f=l.prototype=Object.create(d.prototype);f.constructor=l;f._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}};this.css({position:"absolute"})};f.handleEvent=function(a){var e="on"+a.type;this[e]&&this[e](a)};f.getSize=function(){this.size=
b(this.element)};f.css=function(a){var e=this.element.style,b;for(b in a)e[p[b]||b]=a[b]};f.getPosition=function(){var a=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),b=this.layout._getOption("originTop"),h=a[e?"left":"right"],c=a[b?"top":"bottom"];a=this.layout.size;h=-1!=h.indexOf("%")?parseFloat(h)/100*a.width:parseInt(h,10);c=-1!=c.indexOf("%")?parseFloat(c)/100*a.height:parseInt(c,10);h=isNaN(h)?0:h;c=isNaN(c)?0:c;h-=e?a.paddingLeft:a.paddingRight;c-=b?a.paddingTop:a.paddingBottom;
this.position.x=h;this.position.y=c};f.layoutPosition=function(){var a=this.layout.size,e={},b=this.layout._getOption("originLeft"),h=this.layout._getOption("originTop"),c=b?"right":"left";e[b?"left":"right"]=this.getXValue(this.position.x+a[b?"paddingLeft":"paddingRight"]);e[c]="";b=h?"bottom":"top";e[h?"top":"bottom"]=this.getYValue(this.position.y+a[h?"paddingTop":"paddingBottom"]);e[b]="";this.css(e);this.emitEvent("layout",[this])};f.getXValue=function(a){var e=this.layout._getOption("horizontal");
return this.layout.options.percentPosition&&!e?a/this.layout.size.width*100+"%":a+"px"};f.getYValue=function(a){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?a/this.layout.size.height*100+"%":a+"px"};f._transitionTo=function(a,e){this.getPosition();var b=this.position.x,h=this.position.y,c=parseInt(a,10),k=parseInt(e,10);c=c===this.position.x&&k===this.position.y;if(this.setPosition(a,e),c&&!this.isTransitioning)return void this.layoutPosition();c={};c.transform=
this.getTranslate(a-b,e-h);this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})};f.getTranslate=function(a,e){var b=this.layout._getOption("originLeft"),h=this.layout._getOption("originTop");return a=b?a:-a,e=h?e:-e,"translate3d("+a+"px, "+e+"px, 0)"};f.goTo=function(a,b){this.setPosition(a,b);this.layoutPosition()};f.moveTo=f._transitionTo;f.setPosition=function(a,b){this.position.x=parseInt(a,10);this.position.y=parseInt(b,10)};f._nonTransition=function(a){this.css(a.to);
a.isCleaning&&this._removeStyles(a.to);for(var b in a.onTransitionEnd)a.onTransitionEnd[b].call(this)};f.transition=function(a){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(a);var b=this._transn,c;for(c in a.onTransitionEnd)b.onEnd[c]=a.onTransitionEnd[c];for(c in a.to)b.ingProperties[c]=!0,a.isCleaning&&(b.clean[c]=!0);a.from&&this.css(a.from);this.enableTransition(a.to);this.css(a.to);this.isTransitioning=!0};var m="opacity,"+function(a){return a.replace(/([A-Z])/g,
function(a){return"-"+a.toLowerCase()})}(g);f.enableTransition=function(){if(!this.isTransitioning){var a=this.layout.options.transitionDuration;this.css({transitionProperty:m,transitionDuration:"number"==typeof a?a+"ms":a,transitionDelay:this.staggerDelay||0});this.element.addEventListener(c,this,!1)}};f.onwebkitTransitionEnd=function(a){this.ontransitionend(a)};f.onotransitionend=function(a){this.ontransitionend(a)};var n={"-webkit-transform":"transform"};f.ontransitionend=function(a){if(a.target===
this.element){var b=this._transn,c=n[a.propertyName]||a.propertyName;delete b.ingProperties[c];a:{for(h in b.ingProperties){var h=!1;break a}h=!0}if(h&&this.disableTransition(),c in b.clean&&(this.element.style[a.propertyName]="",delete b.clean[c]),c in b.onEnd)b.onEnd[c].call(this),delete b.onEnd[c];this.emitEvent("transitionEnd",[this])}};f.disableTransition=function(){this.removeTransitionStyles();this.element.removeEventListener(c,this,!1);this.isTransitioning=!1};f._removeStyles=function(a){var b=
{},c;for(c in a)b[c]="";this.css(b)};var t={transitionProperty:"",transitionDuration:"",transitionDelay:""};return f.removeTransitionStyles=function(){this.css(t)},f.stagger=function(a){a=isNaN(a)?0:a;this.staggerDelay=a+"ms"},f.removeElem=function(){this.element.parentNode.removeChild(this.element);this.css({display:""});this.emitEvent("remove",[this])},f.remove=function(){return a&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):
void this.removeElem()},f.reveal=function(){delete this.isHidden;this.css({display:""});var a=this.layout.options,b={},c=this.getHideRevealTransitionEndProperty("visibleStyle");b[c]=this.onRevealTransitionEnd;this.transition({from:a.hiddenStyle,to:a.visibleStyle,isCleaning:!0,onTransitionEnd:b})},f.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},f.getHideRevealTransitionEndProperty=function(a){a=this.layout.options[a];if(a.opacity)return"opacity";for(var b in a)return b},
f.hide=function(){this.isHidden=!0;this.css({display:""});var a=this.layout.options,b={},c=this.getHideRevealTransitionEndProperty("hiddenStyle");b[c]=this.onHideTransitionEnd;this.transition({from:a.visibleStyle,to:a.hiddenStyle,isCleaning:!0,onTransitionEnd:b})},f.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},f.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},l});
(function(d,b){"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(l,g,a,c){return b(d,l,g,a,c)}):"object"==typeof module&&module.exports?module.exports=b(d,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):d.Outlayer=b(d,d.EvEmitter,d.getSize,d.fizzyUIUtils,d.Outlayer.Item)})(window,function(d,b,l,g,a){function c(a,b){var h=g.getQueryElement(a);if(!h)return void(f&&
f.error("Bad element for "+this.constructor.namespace+": "+(h||a)));this.element=h;m&&(this.$element=m(this.element));this.options=g.extend({},this.constructor.defaults);this.option(b);h=++t;this.element.outlayerGUID=h;k[h]=this;this._create();this._getOption("initLayout")&&this.layout()}function p(a){function h(){a.apply(this,arguments)}return h.prototype=Object.create(a.prototype),h.prototype.constructor=h,h}var f=d.console,m=d.jQuery,n=function(){},t=0,k={};c.namespace="outlayer";c.Item=a;c.defaults=
{containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var e=c.prototype;g.extend(e,b.prototype);e.option=function(a){g.extend(this.options,a)};e._getOption=function(a){var h=this.constructor.compatOptions[a];return h&&void 0!==this.options[h]?this.options[h]:this.options[a]};c.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",
layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"};e._create=function(){this.reloadItems();this.stamps=[];this.stamp(this.options.stamp);g.extend(this.element.style,this.options.containerStyle);this._getOption("resize")&&this.bindResize()};e.reloadItems=function(){this.items=this._itemize(this.element.children)};e._itemize=function(a){a=this._filterFindItemElements(a);for(var h=this.constructor.Item,b=[],
c=0;c<a.length;c++){var e=new h(a[c],this);b.push(e)}return b};e._filterFindItemElements=function(a){return g.filterFindElements(a,this.options.itemSelector)};e.getItemElements=function(){return this.items.map(function(a){return a.element})};e.layout=function(){this._resetLayout();this._manageStamps();var a=this._getOption("layoutInstant");this.layoutItems(this.items,void 0!==a?a:!this._isLayoutInited);this._isLayoutInited=!0};e._init=e.layout;e._resetLayout=function(){this.getSize()};e.getSize=function(){this.size=
l(this.element)};e._getMeasurement=function(a,b){var h,c=this.options[a];c?("string"==typeof c?h=this.element.querySelector(c):c instanceof HTMLElement&&(h=c),this[a]=h?l(h)[b]:c):this[a]=0};e.layoutItems=function(a,b){a=this._getItemsForLayout(a);this._layoutItems(a,b);this._postLayout()};e._getItemsForLayout=function(a){return a.filter(function(a){return!a.isIgnored})};e._layoutItems=function(a,b){if(this._emitCompleteOnItems("layout",a),a&&a.length){var h=[];a.forEach(function(a){var c=this._getItemLayoutPosition(a);
c.item=a;c.isInstant=b||a.isLayoutInstant;h.push(c)},this);this._processLayoutQueue(h)}};e._getItemLayoutPosition=function(){return{x:0,y:0}};e._processLayoutQueue=function(a){this.updateStagger();a.forEach(function(a,h){this._positionItem(a.item,a.x,a.y,a.isInstant,h)},this)};e.updateStagger=function(){var a=this.options.stagger;if(null===a||void 0===a)a=void(this.stagger=0);else{if("number"!=typeof a){var b=a.match(/(^\d*\.?\d*)(\w*)/);a=b&&b[1];b=b&&b[2];a.length?(a=parseFloat(a),a*=r[b]||1):a=
0}a=(this.stagger=a,this.stagger)}return a};e._positionItem=function(a,b,c,e,d){e?a.goTo(b,c):(a.stagger(d*this.stagger),a.moveTo(b,c))};e._postLayout=function(){this.resizeContainer()};e.resizeContainer=function(){if(this._getOption("resizeContainer")){var a=this._getContainerSize();a&&(this._setContainerMeasure(a.width,!0),this._setContainerMeasure(a.height,!1))}};e._getContainerSize=n;e._setContainerMeasure=function(a,b){if(void 0!==a){var c=this.size;c.isBorderBox&&(a+=b?c.paddingLeft+c.paddingRight+
c.borderLeftWidth+c.borderRightWidth:c.paddingBottom+c.paddingTop+c.borderTopWidth+c.borderBottomWidth);a=Math.max(a,0);this.element.style[b?"width":"height"]=a+"px"}};e._emitCompleteOnItems=function(a,b){function c(){e.dispatchEvent(a+"Complete",null,[b])}function h(){f++;f==d&&c()}var e=this,d=b.length;if(!b||!d)return void c();var f=0;b.forEach(function(b){b.once(a,h)})};e.dispatchEvent=function(a,b,c){var h=b?[b].concat(c):c;if(this.emitEvent(a,h),m)(this.$element=this.$element||m(this.element),
b)?(b=m.Event(b),b.type=a,this.$element.trigger(b,c)):this.$element.trigger(a,c)};e.ignore=function(a){(a=this.getItem(a))&&(a.isIgnored=!0)};e.unignore=function(a){(a=this.getItem(a))&&delete a.isIgnored};e.stamp=function(a){(a=this._find(a))&&(this.stamps=this.stamps.concat(a),a.forEach(this.ignore,this))};e.unstamp=function(a){(a=this._find(a))&&a.forEach(function(a){g.removeFrom(this.stamps,a);this.unignore(a)},this)};e._find=function(a){return a?("string"==typeof a&&(a=this.element.querySelectorAll(a)),
g.makeArray(a)):void 0};e._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))};e._getBoundingRect=function(){var a=this.element.getBoundingClientRect(),b=this.size;this._boundingRect={left:a.left+b.paddingLeft+b.borderLeftWidth,top:a.top+b.paddingTop+b.borderTopWidth,right:a.right-(b.paddingRight+b.borderRightWidth),bottom:a.bottom-(b.paddingBottom+b.borderBottomWidth)}};e._manageStamp=n;e._getElementOffset=function(a){var b=
a.getBoundingClientRect(),c=this._boundingRect;a=l(a);return{left:b.left-c.left-a.marginLeft,top:b.top-c.top-a.marginTop,right:c.right-b.right-a.marginRight,bottom:c.bottom-b.bottom-a.marginBottom}};e.handleEvent=g.handleEvent;e.bindResize=function(){d.addEventListener("resize",this);this.isResizeBound=!0};e.unbindResize=function(){d.removeEventListener("resize",this);this.isResizeBound=!1};e.onresize=function(){this.resize()};g.debounceMethod(c,"onresize",100);e.resize=function(){this.isResizeBound&&
this.needsResizeLayout()&&this.layout()};e.needsResizeLayout=function(){var a=l(this.element);return this.size&&a&&a.innerWidth!==this.size.innerWidth};e.addItems=function(a){a=this._itemize(a);return a.length&&(this.items=this.items.concat(a)),a};e.appended=function(a){a=this.addItems(a);a.length&&(this.layoutItems(a,!0),this.reveal(a))};e.prepended=function(a){a=this._itemize(a);if(a.length){var b=this.items.slice(0);this.items=a.concat(b);this._resetLayout();this._manageStamps();this.layoutItems(a,
!0);this.reveal(a);this.layoutItems(b)}};e.reveal=function(a){if(this._emitCompleteOnItems("reveal",a),a&&a.length){var b=this.updateStagger();a.forEach(function(a,c){a.stagger(c*b);a.reveal()})}};e.hide=function(a){if(this._emitCompleteOnItems("hide",a),a&&a.length){var b=this.updateStagger();a.forEach(function(a,c){a.stagger(c*b);a.hide()})}};e.revealItemElements=function(a){a=this.getItems(a);this.reveal(a)};e.hideItemElements=function(a){a=this.getItems(a);this.hide(a)};e.getItem=function(a){for(var b=
0;b<this.items.length;b++){var c=this.items[b];if(c.element==a)return c}};e.getItems=function(a){a=g.makeArray(a);var b=[];return a.forEach(function(a){(a=this.getItem(a))&&b.push(a)},this),b};e.remove=function(a){a=this.getItems(a);this._emitCompleteOnItems("remove",a);a&&a.length&&a.forEach(function(a){a.remove();g.removeFrom(this.items,a)},this)};e.destroy=function(){var a=this.element.style;a.height="";a.position="";a.width="";this.items.forEach(function(a){a.destroy()});this.unbindResize();delete k[this.element.outlayerGUID];
delete this.element.outlayerGUID;m&&m.removeData(this.element,this.constructor.namespace)};c.data=function(a){return(a=(a=g.getQueryElement(a))&&a.outlayerGUID)&&k[a]};c.create=function(b,e){var d=p(c);return d.defaults=g.extend({},c.defaults),g.extend(d.defaults,e),d.compatOptions=g.extend({},c.compatOptions),d.namespace=b,d.data=c.data,d.Item=p(a),g.htmlInit(d,b),m&&m.bridget&&m.bridget(b,d),d};var r={ms:1,s:1E3};return c.Item=a,c});
(function(d,b){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],b):"object"==typeof module&&module.exports?module.exports=b(require("outlayer"),require("get-size")):d.Masonry=b(d.Outlayer,d.getSize)})(window,function(d,b){var l=d.create("masonry");l.compatOptions.fitWidth="isFitWidth";var g=l.prototype;return g._resetLayout=function(){this.getSize();this._getMeasurement("columnWidth","outerWidth");this._getMeasurement("gutter","outerWidth");this.measureColumns();
this.colYs=[];for(var a=0;a<this.cols;a++)this.colYs.push(0);this.horizontalColIndex=this.maxY=0},g.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var a=this.items[0];this.columnWidth=(a=a&&a.element)&&b(a).outerWidth||this.containerWidth}a=this.columnWidth+=this.gutter;var c=this.containerWidth+this.gutter,d=a-c%a;a=Math[d&&1>d?"round":"floor"](c/a);this.cols=Math.max(a,1)},g.getContainerWidth=function(){var a=this._getOption("fitWidth")?this.element.parentNode:this.element;
this.containerWidth=(a=b(a))&&a.innerWidth},g._getItemLayoutPosition=function(a){a.getSize();var b=a.size.outerWidth%this.columnWidth,d=Math[b&&1>b?"round":"ceil"](a.size.outerWidth/this.columnWidth);d=Math.min(d,this.cols);var f=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](d,a);b={x:this.columnWidth*f.col,y:f.y};a=f.y+a.size.outerHeight;d+=f.col;for(f=f.col;d>f;f++)this.colYs[f]=a;return b},g._getTopColPosition=function(a){a=this._getTopColGroup(a);var b=Math.min.apply(Math,
a);return{col:a.indexOf(b),y:b}},g._getTopColGroup=function(a){if(2>a)return this.colYs;for(var b=[],d=this.cols+1-a,f=0;d>f;f++)b[f]=this._getColGroupY(f,a);return b},g._getColGroupY=function(a,b){if(2>b)return this.colYs[a];var c=this.colYs.slice(a,a+b);return Math.max.apply(Math,c)},g._getHorizontalColPosition=function(a,b){var c=this.horizontalColIndex%this.cols;c=1<a&&c+a>this.cols?0:c;return this.horizontalColIndex=b.size.outerWidth&&b.size.outerHeight?c+a:this.horizontalColIndex,{col:c,y:this._getColGroupY(c,
a)}},g._manageStamp=function(a){var c=b(a),d=this._getElementOffset(a);a=this._getOption("originLeft")?d.left:d.right;var f=a+c.outerWidth,g=Math.floor(a/this.columnWidth);g=Math.max(0,g);a=Math.floor(f/this.columnWidth);a-=f%this.columnWidth?0:1;a=Math.min(this.cols-1,a);c=(this._getOption("originTop")?d.top:d.bottom)+c.outerHeight;for(d=g;a>=d;d++)this.colYs[d]=Math.max(c,this.colYs[d])},g._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var a={height:this.maxY};return this._getOption("fitWidth")&&
(a.width=this._getContainerFitWidth()),a},g._getContainerFitWidth=function(){for(var a=0,b=this.cols;--b&&0===this.colYs[b];)a++;return(this.cols-a)*this.columnWidth-this.gutter},g.needsResizeLayout=function(){var a=this.containerWidth;return this.getContainerWidth(),a!=this.containerWidth},l});