!function(c,g,f){XF.LFSGroup=XF.create({options:{groupId:"",carouselInterval:0},lfs:null,tabs:null,$target:null,ajaxData:{},updateLock:!1,__construct:function(a,b,e){this.options=XF.applyDataOptions(this.options,b.data(),e);this.lfs=a;this.$target=b;this.$groupContent=b.find(".tabGroup-content");this.$groupScroller=b.find(".tabGroup-scroller");this.$content=b.find(".content");this.defineScrollPaginator();this.options.carouselInterval&&setInterval(XF.proxy(this,"switchToNextTab"),1E3*this.options.carouselInterval);
this.tabs=new XF.LFSTabs(a,this,b.find("ul.tabs"));c(f).on("lfs_ajax_extend-"+this.options.groupId,XF.proxy(this,"extendAjaxData"));XF.Cookie.get("lfs_ajax_"+this.options.groupId)&&(this.ajaxData=XF.Cookie.get("lfs_ajax_"+this.options.groupId))},defineScrollPaginator:function(){this.paginator=new XF.LFSScrollPaginator(this,this.$groupScroller)},resetScroll:function(){this.$groupScroller.scrollTop(0)},update:function(a,b){this.startUpdating(a);this.tabs.selectedTab.loadData(XF.proxy(this,"endUpdating"),
!1,b)},$scrollerLoadingSpinner:null,startUpdating:function(a){this.updateLock=!0;a&&(this.$groupContent.addClass("is-updating"),this.$scrollerLoadingSpinner=this.getLoadingSpinner().appendTo(this.$groupScroller))},endUpdating:function(){this.updateLock=!1;this.$groupContent.removeClass("is-updating");this.$scrollerLoadingSpinner&&this.$scrollerLoadingSpinner.remove()},loading:function(){this.$content.html("");this.getLoadingSpinner().appendTo(this.$groupScroller)},switchToNextTab:function(){this.tabs.next().select()},
clearDifferentTimeout:null,replaceContent:function(a,b,e,c){var d=!1;0<a.html().replace(" ","").length&&(this.$content.find("*:regex(data-xf-init, [a-zA-z]*tooltip)").trigger("tooltip:hide"),e||this.markDifferentItems(a)&&this.lfs.playSoundIfHas(),this.$content=a.filter(".content").replaceAll(this.$content),XF.activate(this.$content),c&&a.filter(".js-lfsPageNav").length&&(a.filter(".js-lfsPageNav").replaceAll(this.paginator.$pageNav),this.paginator.reloadContent()),this.clearDifferentTimeout&&clearTimeout(this.clearDifferentTimeout),
this.clearDifferentTimeout=setTimeout(XF.proxy(this,"clearDifferentItems"),this.lfs.options.differentTimeout),d=!0);this.$groupScroller.find(".js-loader").remove();"function"==typeof b&&b.call(null,d)},markDifferentItems:function(a){var b=this.$content.find(".structItem--lfsItem");a=a.find(".structItem--lfsItem");a.each(function(){var a=c(this),d=b.filter("#"+a.attr("id"));d&&d.data("date")===a.data("date")||a.addClass("structItem--different")});return 0<a.filter(".structItem--different").length},
clearDifferentItems:function(){this.$content.find(".structItem--different").removeClass("structItem--different")},getLoadingSpinner:function(){return c('<div class="loader-block js-loader"><div class="loader"><div></div><div></div></div></div>')},extendAjaxData:function(a,b){this.ajaxData=c.extend(!0,this.ajaxData,b);XF.Cookie.set("lfs_ajax_"+this.options.groupId,JSON.stringify(b));this.update()}})}(window.jQuery,window,document);