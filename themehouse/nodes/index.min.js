var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var c=0;return function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,g){a!=Array.prototype&&a!=Object.prototype&&(a[c]=g.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(a,c){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:c})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function a(g){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(g||"")+"_"+c++,g)}var c=0;return a}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
(function(a){function c(m){if(g[m])return g[m].exports;var h=g[m]={i:m,l:!1,exports:{}};a[m].call(h.exports,h,h.exports,c);h.l=!0;return h.exports}var g={};c.m=a;c.c=g;c.d=function(a,h,b){c.o(a,h)||Object.defineProperty(a,h,{configurable:!1,enumerable:!0,get:b})};c.n=function(a){var h=a&&a.__esModule?function(){return a["default"]}:function(){return a};c.d(h,"a",h);return h};c.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)};c.p="";return c(c.s=0)})([function(a,c,g){Object.defineProperty(c,
"__esModule",{value:!0});var m=function(){function a(b,d){for(var n=0;n<d.length;n++){var a=d[n];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(b,a.key,a)}}return function(b,d,n){d&&a(b.prototype,d);n&&a(b,n);return b}}();a=function(){function a(b){var d=this,n=b.layout,e=b.settings;e=void 0===e?{}:e;var c=b.listeners,k=b.init;k=void 0===k?!1:k;b=b.commonVersion;b=void 0===b?"20180112":b;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
this.init=function(){d.initGet();d.initSet()};this.initGet=function(){d.rootEle=window.document.querySelector(d.settings.depth0Selector);null!==d.rootEle?(d.nodes=d.parse(d.rootEle),d.resizeGet()):console.error("Root selector not found")};this.initSet=function(){d.resizeSet();d.rootEle.classList.add("thNodes__nodeList--running");d.classAdded=!0;d.running=!0};this.resize=function(){d.resizeGet();d.resizeSet()};this.resizeGet=function(){d.globalWidth=d.rootEle.offsetWidth;d.updateGet()};this.resizeSet=
function(){d.updateSet()};this.listenersAdded=this.running=!1;this.minEnableWidth=1;this.layout=n;this.nodes={};this.equalCategories=!0;this.classAdded=!1;this.alwaysCheck=!0;this.newChanges=[];this.globalWidth=1;this.cookieArray=[];this.settings=Object.assign({depth0Selector:".thNodes__nodeList",depth1Selector:".block",depth2Selector:".node",separatorClass:"thNodes_separator"},e);this.settings.sizes=Object.assign({xs:200,sm:300,md:400,lg:600,xl:1E3},e.sizes||{});this.listeners=c||this.populateListeners();
this.rootEle=null;this.commonVersion=b;this.common=window.themehouse.common[b];k&&this.init()}m(a,[{key:"populateListeners",value:function(){for(var b=[],d=this.settings.sizes,a=Object.keys(d),e=0,c=a.length;e<c;e++){var k=a[e],t=d[k];b.push({name:"--below-"+k,min:0,max:t});b.push({name:"--above-"+k,min:t+1,max:999999});b.push({name:"--is-"+k,min:t+1,max:e<c-1?d[a[e+1]]:999999})}return b}},{key:"register",value:function(){this.common.register({phase:"initGet",addon:"TH_Nodes",func:this.initGet,order:10});
this.common.register({phase:"initSet",addon:"TH_Nodes",func:this.initSet,order:10});this.common.register({phase:"resizeGet",addon:"TH_Nodes",func:this.resizeGet,order:10});this.common.register({phase:"resizeSet",addon:"TH_Nodes",func:this.resizeSet,order:10})}},{key:"getIdFromClass",value:function(b,d){var a=d.split(" "),e=!0,c=!1,k=void 0;try{$jscomp.initSymbol();$jscomp.initSymbolIterator();for(var t=a[Symbol.iterator](),l;!(e=(l=t.next()).done);e=!0){var F=l.value,h=F.replace(b,"");if(h!==F){var g=
parseInt(h,10);if(0<g)return g}}}catch(r){c=!0,k=r}finally{try{!e&&t["return"]&&t["return"]()}finally{if(c)throw k;}}return-1}},{key:"getNodeId",value:function(b){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;if(null!==b){var a=b.className;if(!d){if(-1<a.indexOf("block--category"))return this.getIdFromClass("block--category",a);if(-1<a.indexOf("node--id"))return this.getIdFromClass("node--id",a);d=b.querySelector(this.settings.depth2Selector);if(null!==d)return this.getIdFromClass("node--id",
d.className)}if(-1<a.indexOf(this.settings.separatorClass))return this.getIdFromClass("node--id",a)}return-1}},{key:"formatLayout",value:function(a){var d={},b=this.layout[a];if("undefined"!==typeof b){a=b.fill_last_row;var e=b.max_columns;b=b.min_column_width;a&&a.value&&(d.fill=a.value);e&&e.value&&(d.cols=e.value);b&&b.value&&(d.width=b.value)}return d}},{key:"makeLayout",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};b=Object.assign({cols:6,width:330,fill:0,
id:a},this.formatLayout(0),b,this.formatLayout(a));b.cols=parseInt(b.cols,10);b.width=parseInt(b.width,10);b.fill=parseInt(b.fill,10);-1===a&&(b.cols=1,b.width=1E3);return b}},{key:"findLayouts",value:function(a,d,n){var b=[];a=a.querySelectorAll(0===n?this.settings.depth1Selector:this.settings.depth2Selector);for(var c=0,k=0,h=a.length;k<h;k++){var l=a[k],g=this.getNodeId(l.previousElementSibling,!0);-1!==g&&(d=g,c+=1);g=this.getNodeId(l);"undefined"===typeof b[c]&&(b[c]={children:[],layout:this.makeLayout(d)});
b[c].children.push({ele:l,id:g,depth:n,layouts:this.findLayouts(l,g,n+1),className:""})}return b}},{key:"parse",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,c=this.findLayouts(a,-1,b);return 0===c.length?{}:{ele:a,id:-1,depth:b,className:"",ratio:1,layouts:c}}},{key:"calculateChanges",value:function(a,d){for(var b=a.ratio,c=a.layouts,g=b*this.globalWidth,k=0,h=0,l=0,m=c.length;l<m;l++){var p=c[l],x=p.children;p=p.layout;for(var r=x.length,f=Math.min(Math.floor(g/
p.width),p.cols)||1,u=0<f?f:1,B=r%f,v=1,C=Math.ceil(r/f),y=0,z=0;z<r;z++){var q=x[z],w=Math.floor(z/f)+1;v===w?y+=1:(v=w,y=1);0===p.fill?v===C&&0<B&&(u=B):1!==p.fill&&v>=C&&0<B&&(u=1);w=100/u;var D=w+"%",E=this.findClassName({colNum:y,numCols:u,rowNum:v,rowNumAbs:k+v,numRows:C,nodeNumAbs:h,nodeNum:z,layoutNum:l,leftCol:0===(y-1)%u,rightCol:(y-1)%u===u-1,numLayouts:m,width:Math.floor(b*w*this.globalWidth/100)}),A={ele:q.ele};q.className!==E&&(A.className=q.ele.className.replace(q.className,"")+E,q.className=
E);q.width!==D&&(A.width=D,q.width=D);"undefined"===typeof A.className&&"undefined"===typeof A.width||this.queueChange(A);q.ratio=b*w/100;h+=1;this.calculateChanges(q,d+1)}k+=v}}},{key:"update",value:function(){this.updateGet();this.updateSet()}},{key:"updateGet",value:function(){this.newChanges=[];this.calculateChanges(this.nodes,0)}},{key:"updateSet",value:function(){this.processChanges()}},{key:"queueChange",value:function(a){this.newChanges.push(a)}},{key:"processChanges",value:function(){for(var a=
0,d=this.newChanges.length;a<d;a++){var c=this.newChanges[a],e=c.ele,g=c.className;c=c.width;"undefined"!==typeof g&&(e.className=g);"undefined"!==typeof c&&(e.style.width=c,e.style.flexBasis=c,e.style.maxWidth=c)}}},{key:"findClassName",value:function(a){var b=a.colNum,c=a.numCols,e=a.rowNum,g=a.rowNumAbs,k=a.numRows,h=a.nodeNum,l=a.nodeNumAbs,m=a.leftCol,p=a.rightCol,x=a.layoutNum,r=a.numLayouts;a=a.width;var f=" th_nodes";100>a&&(f+=" th_nodes_active");m&&(f+=" th_nodes_left");p&&(f+=" th_nodes_right");
1===g&&(f+=" th_nodes_row_start");1===e&&(f+=" th_nodes_layout_row_start");e===k&&(x+1===r&&(f+=" th_nodes_row_end"),f+=" th_nodes_layout_row_end");f=f+" th_nodes_col_"+b+" th_nodes_numCols_"+c+" th_nodes_row_"+e;f=f+" th_nodes_rowAbs_"+g;f=f+" th_nodes_layNum_"+x;f=f+" th_nodes_numLays_"+r;f=f+" th_nodes_node_"+h;f=f+" th_nodes_nodeAbs_"+l;f=f+" th_nodes_row_"+(1===g%2?"odd":"even");b=this.listeners;if("undefined"!==typeof b)for(c=0,e=b.length;c<e;c++)a<b[c].max&&a>=b[c].min&&(f=f+" th_nodes"+b[c].name);
return f}}]);return a}();"undefined"===typeof window.themehouse&&(window.themehouse={});"undefined"===typeof window.themehouse.nodes&&(window.themehouse.nodes={});window.themehouse.nodes.grid=a;c["default"]=a}]);